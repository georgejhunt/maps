<!DOCTYPE html>

<!--
2020-09-28: Admin Console should/likely replace this CLI action in future, but
as of today IIAB's roles/osm-vector-maps/tasks/install.yml downloads this:
https://github.com/iiab/maps/blob/master/osm-source/pages/installer/build/index.html

...to:
/library/www/osm-vector-maps/installer/index.html

...which allows you to select, download and install Map Pack "continents" -- as
well as hi-res Satellite Photo "local regions" -- using:
http://box/osm-vector-maps/installer/
-->

<html lang="en">
  <head>
    <title>Install IIAB Maps</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="/common/js/jquery.min.js"></script>
    <script src="/common/js/bootstrap.min.js"></script>
    <!--  <script src="/admin/js/admin_console.js"></script>-->
    <link href="/common/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./map.css" type="text/css">
  </head>

  <body>

    <h1>Install a Map Pack for your Continent!<br>Then install Hi-Res Satellite Photos for your Local Region(s)</h1>

    <p>You must select then install at least one Map Pack to begin!  Every Map Pack includes (A) Hi-Res vector maps for your "continent," (B) Lo-Res vector maps for the whole world, and (C) Lo-Res satellite photos for the whole world.  Thank you to OpenStreetMap, Sentinel and the countless volunteers who made this all possible.  For technical details, or if you can help <a href=http://internet-in-a-box.org>Internet-in-a-Box (IIAB)</a> make this even better, please see our <a href=https://github.com/iiab/iiab/wiki/IIAB-Maps>IIAB Maps</a> doc.</p>

    <div id="osmRegionSelection" >
      <div id='lside'>
        <h3>(1) Select your Map Pack</h3>
        <div id='mapRegionSelectList'>placeholder to be replaced by map data</div>

        <!--div id='instructions'-->
        <h3>(2) Install your Map Pack</h3>
        Copy [Ctrl+C] and Paste [Ctrl+V] the following line into an IIAB Terminal:
        <!--/div-->
        <h4><div id='cmdline' class="command">install-map-region</div></h4>
        Hit [Enter] to run it (sudo may request your password!)  You'll know it's downloaded and installed when http://box/maps shows 15 levels of zoom (about 19 levels if you overzoom) within your Map Pack "continent" area.  Thanks for your patience!
      </div id='lside'>
      <div class='grower'></div>

      <div id='rside'>
        <h3>(3) Click the Map (where you want Hi-Res Satellite Photos)</h3>
        <div id="map-container"></div>
        <div class='grower'></div>
        <span> <!-- Title line -->
          <br>
          <!--<h3>First install a Map Pack on the left!</h3>-->
          <!--<h3>Increase Satellite Resolution in Your Selected Area</h3>-->
          Decide how big of a (square) local region you want:
          <br>
          <div id='area-choice'>
            <div>
              <input type='radio' id='small' name='size' value='small'>
              <label>100 x 100 km ~ 5 MB ~ 5 min download</label>
            </div>
            <div>
              <input type='radio' id='medium' name='size' value='medium'>
              <label>300 x 300 km ~ 50 MB ~ 0.5 hour download</label>
            </div>
            <div>
              <input type='radio' id='large' name='size' checked value='large'>
              <label>1000 x 1000 km ~ 500 MB ~ 5 hour download</label>
            </div>
        </span>

        <!--div id='instructions'-->
        <h3>(4) Install your Satellite Photos</h3>
        Copy [Ctrl+C] and Paste [Ctrl+V] the following line into an IIAB Terminal:
        <!--/div-->
        <!--<div id='instr'></div>-->
        <h4><div id='cmdline_element' class="command"></div></h4>
        Hit [Enter] to run it (sudo may request your password!)  You'll know it's downloaded and installed when http://box/maps shows Satellite Photos up to 14 levels of zoom (19 x 19 m pixels) &mdash; instead of just 10 levels of zoom (305 x 305 m pixels) &mdash; within the (square) local region you chose above.  Thanks for your patience!

        <div class='grower'></div>
        <!--<div class="col-sm-2"><button id="DNLD-SAT" type="button" class="btn btn-lg btn-primary">Download More Satellite Data</button></div>-->
        </div> <!--id='rside' -->
      </div> <!--  End osmRegionSelection Submenu Option Pane -->
      <script>
        function readableSize(kbytes) {
            if (kbytes == 0)
                return "0";
            var bytes = 1024 * kbytes;
            var s = ['bytes', 'kB', 'MB', 'GB', 'TB', 'PB'];
            var e = Math.floor(Math.log(bytes) / Math.log(1024));
            return (bytes / Math.pow(1024, e)).toFixed(2) + " " + s[e];
        }
      </script>
      <script src="./installer-functions.js"></script>
      <script src="installer-bundle.js"></script>
  </body>
</html>
